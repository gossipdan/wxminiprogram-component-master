<view class="container">
  <image class='mask_img' src='../../images/image_cut.png' catchtouchstart="touchstartCallback"  catchtouchmove="touchmoveCallback" catchtouchend="touchendCallback"></image>
  <!--  剪裁框与初始图片，剪裁框监听用户手势，获取移动缩放旋转值，images通过css样式显示变化  -->
  <view class="img" style="width:{{ width }}px; height:{{height}}px" catchtouchstart="touchstartCallback"  catchtouchmove="touchmoveCallback" catchtouchend="touchendCallback"  >
    <image style="transform: translate({{stv.offsetX}}px, {{stv.offsetY}}px) scale({{stv.scale}}) rotate({{ stv.rotate }}deg);width:{{originImg.width}}px; height: {{originImg.height}}px" src="{{ originImg.url }}"></image>
  </view>

  <cover-view bindtap='rotate' class='rotate'>
    <cover-image class='rotate_btn' src='../../images/photo_rotate.png'></cover-image>
    <button class='rotate_text'>旋转</button>
  </cover-view>

  <view class='footer'>
    <view class='operate_btn' bindtap='cancelCropper'>取消</view>
    <view class='isolation'>|</view>
    <view class='operate_btn confirm' bindtap='confirmCropper'>完成</view>
  </view>

  <!--  canvas长宽设为初始图片设置的长款的两倍，使剪裁得到的图片更清晰，也不至于过大  -->
  <canvas class='imgcrop' style="width:{{ width * 2 }}px;height:{{ height * 2}}px;" canvas-id='imgcrop'></canvas>
</view>